{"version":3,"sources":["webpack:///./src/components/HackQuest/Main.vue?f816","webpack:///src/components/HackQuest/Main.vue","webpack:///./src/controllers/HackQuestService.js","webpack:///./src/components/HackQuest/Main.vue?e9fb","webpack:///./src/components/HackQuest/Main.vue"],"names":["teams","users","progress","locations","tasks","render","_vm","this","_h","$createElement","_c","_self","attrs","columns","progressColumns","dataSource","progressData","scopedSlots","_u","key","fn","status","color","colors","_v","_s","statuses","staticRenderFns","url","HackQuestService","Promise","_ref","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","resolve","reject","res","wrap","_context","prev","next","axios","get","sent","data","t0","stop","_x","_x2","apply","arguments","_id","_field","_value","_ref2","_callee2","_context2","post","id","field","value","_x3","_x4","title","dataIndex","customRender","Mainvue_type_script_lang_js_","timer","created","_created","loadData","setInterval","computed","methods","_loadData","controllers_HackQuestService","cancelAutoUpdate","clearInterval","destroyed","HackQuest_Mainvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0af2f9.987eb0f5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-table',{attrs:{\"columns\":_vm.progressColumns,\"dataSource\":_vm.progressData},scopedSlots:_vm._u([{key:\"status\",fn:function(status){return _c('span',{},[_c('a-tag',{key:status,attrs:{\"color\":_vm.colors[status]}},[_vm._v(_vm._s(_vm.statuses[status]))])],1)}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <a-table :columns=\"progressColumns\" :dataSource=\"progressData\">\n\n      <span slot=\"status\" slot-scope=\"status\" >\n        <a-tag\n          :key=\"status\"\n          :color=\"colors[status]\"\n        >{{ statuses[status] }}</a-tag>\n      </span>\n  </a-table>\n</template>\n<script>\n\nimport HackQuestService from '@/controllers/HackQuestService'\nconst progressColumns = [{\n  title: 'Локация',\n  dataIndex: 'location.name',\n  key: 'location._id'\n},\n{\n  title: 'Волонтёр',\n  dataIndex: 'location.volunteer.fullname',\n  key: 'volunteer._id'\n},\n{\n  title: 'Команда',\n  dataIndex: 'team.name',\n  key: 'team._id'\n},\n{\n  title: 'Статус',\n  dataIndex: 'status',\n  key: 'status',\n  scopedSlots: { customRender: 'status' },\n},\n]\n\n// const progressData = []\nlet teams, users, progress, locations, tasks\nexport default {\n  data() {\n    return {\n      // progressData,\n      progressColumns,\n      teams,\n      users,\n      progress,\n      locations,\n      tasks,\n      statuses: ['Бегут', 'Получают инструктаж (соц)', 'Выполняют соц.задание', 'Получают инструктаж (тех)', 'Делают тех. задание', 'Убежали'],\n      colors: ['blue', 'orange', 'green', 'orange', 'green', 'red'],\n      timer: ''\n    }\n  },\n  async created () {\n    this.loadData()\n    this.timer = setInterval(this.loadData, 5000)\n  },\n  computed: {\n    progressData () {\n      return this.progress\n    }\n  },\n  methods: {\n    async loadData () {\n      let data = await HackQuestService.get()\n      this.teams = data.teams\n      this.users = data.users\n      this.progress = data.progress\n      this.locations = data.locations\n      this.tasks = data.tasks\n    },\n    cancelAutoUpdate: function() { clearInterval(this.timer) }\n  },\n  destroyed() {\n    this.cancelAutoUpdate()\n  },\n}\n</script>","import axios from 'axios'\nconst url = \"/api/hackquest\"\n\nclass HackQuestService {\n  static get() {\n    return new Promise( async (resolve, reject) => {\n      try {\n        const res = await axios.get(url)\n        resolve(res.data)\n      } catch(err) {\n        reject(err)\n      }\n    })\n  }\n  static edit(_id, _field, _value) {\n    return new Promise( async (resolve, reject) => {\n      try {\n        await axios.post(url + '/updOneField', {id: _id, field: _field, value: _value})\n        resolve()\n      } catch(err) {\n        reject(err);\n      }\n    })\n  }\n}\n  \n  export default HackQuestService;","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=a370bbd4&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}