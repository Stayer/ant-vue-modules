(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0af2f9"],{"0cf6":function(e,t,n){"use strict";n.r(t);var r,a,s,u,o,c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-table",{attrs:{columns:e.progressColumns,dataSource:e.progressData},scopedSlots:e._u([{key:"status",fn:function(t){return n("span",{},[n("a-tag",{key:t,attrs:{color:e.colors[t]}},[e._v(e._s(e.statuses[t]))])],1)}}])})},i=[],l=(n("96cf"),n("3b8d")),p=n("d225"),d=n("b0b4"),f=n("bc3a"),h=n.n(f),m="/api/hackquest",g=function(){function e(){Object(p["a"])(this,e)}return Object(d["a"])(e,null,[{key:"get",value:function(){return new Promise(function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(m);case 3:r=e.sent,t(r.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),n(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}())}},{key:"edit",value:function(e,t,n){return new Promise(function(){var r=Object(l["a"])(regeneratorRuntime.mark(function r(a,s){return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,h.a.post(m+"/updOneField",{id:e,field:t,value:n});case 3:a(),r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),s(r.t0);case 9:case"end":return r.stop()}},r,null,[[0,6]])}));return function(e,t){return r.apply(this,arguments)}}())}}]),e}(),v=g,k=[{title:"Локация",dataIndex:"location.name",key:"location._id"},{title:"Волонтёр",dataIndex:"location.volunteer.fullname",key:"volunteer._id"},{title:"Команда",dataIndex:"team.name",key:"team._id"},{title:"Статус",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}}],w={data:function(){return{progressColumns:k,teams:r,users:a,progress:s,locations:u,tasks:o,statuses:["Бегут","Получают инструктаж (соц)","Выполняют соц.задание","Получают инструктаж (тех)","Делают тех. задание","Убежали"],colors:["blue","orange","green","orange","green","red"],timer:""}},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.loadData(),this.timer=setInterval(this.loadData,5e3);case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:{progressData:function(){return this.progress}},methods:{loadData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.get();case 2:t=e.sent,this.teams=t.teams,this.users=t.users,this.progress=t.progress,this.locations=t.locations,this.tasks=t.tasks;case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),cancelAutoUpdate:function(){clearInterval(this.timer)}},destroyed:function(){this.cancelAutoUpdate()}},b=w,x=n("2877"),y=Object(x["a"])(b,c,i,!1,null,null,null);t["default"]=y.exports}}]);
//# sourceMappingURL=chunk-2d0af2f9.987eb0f5.js.map